<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ProofRepo — Compliance ProofPacks in seconds</title>

  <!-- SEO -->
  <meta name="description" content="Compliance ProofPacks in seconds. Auditors use ProofRepo to collect SOC 2 evidence without messy Google Drives or endless correction emails. Companies use it to stay audit-ready with clean inputs, without buying a full platform like Drata or Vanta." />
  <meta name="keywords" content="SOC 2 evidence, ISO 27001 evidence, vendor security review, compliance proof, audit readiness, security questionnaire" />

  <!-- Open Graph -->
  <meta property="og:title" content="ProofRepo — Compliance ProofPacks in seconds">
  <meta property="og:description" content="Built for boutique auditors and their clients. Guided evidence collection that reduces errors and back-and-forth, without the overhead of a full GRC platform.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://proofrepo.com/">

  <style>
    :root{
      --bg:#0b1020; --gradA:#0b1020; --gradB:#0d1b3d;
      --panel:#10183a; --panel2:#0e1532; --text:#e8edff; --muted:#a7b6e7; --line:#1d2857;
      --primary:#2563eb; --primary2:#3b82f6; --accent:#22c55e; --ring:rgba(37,99,235,.35);
      --r:16px; --rs:12px; --shadow:0 14px 40px rgba(3,7,18,.35); --max:1200px;
      --marqueeH:54px;
    }
    *{box-sizing:border-box}
    html,body{margin:0;background:linear-gradient(180deg,var(--gradA),var(--gradB));color:var(--text);font:16px/1.55 ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}
    body{padding-bottom:calc(var(--marqueeH) + env(safe-area-inset-bottom,0px))}
    a{color:inherit;text-decoration:none}
    img{max-width:100%;height:auto}
    .wrap{max-width:var(--max);margin:0 auto;padding:28px}
    .row{display:flex;align-items:center;justify-content:space-between;gap:16px}

    /* NAV */
    .logo{display:flex;align-items:center;gap:10px;font-weight:800}
    .glyph{width:34px;height:34px;border-radius:10px;background:conic-gradient(from 210deg,var(--primary),var(--primary2));box-shadow:var(--shadow)}
    .btn{display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:12px 18px;border-radius:999px;border:1px solid #2a3766;cursor:pointer;transition:transform .12s ease, background .12s ease, filter .12s ease}
    .btn:hover{background:#111b3e; transform:translateY(-1px)}
    .btn.primary{background:linear-gradient(135deg,var(--primary),var(--primary2));border-color:transparent;color:#fff;box-shadow:var(--shadow)}
    .btn.primary[disabled]{opacity:.6;cursor:not-allowed;transform:none}
    .btn.link{padding:0;border:0;color:#9db0ff}
    .nav{backdrop-filter:saturate(120%) blur(4px)}

    /* HERO */
    .hero{padding:56px 28px}
    .heroGrid{display:grid;grid-template-columns:1.1fr .9fr;gap:28px;align-items:center}
    .kicker{color:var(--accent);font-weight:800;letter-spacing:.12em;text-transform:uppercase;font-size:.8rem}
    h1{font-size:clamp(28px,4vw,46px);line-height:1.15;margin:10px 0 12px}
    .sub{color:var(--muted);font-size:1.05rem;max-width:60ch}
    .card{background:linear-gradient(180deg,var(--panel),var(--panel2));border:1px solid var(--line);border-radius:var(--r);padding:22px;transition:transform .15s ease, box-shadow .15s ease, border-color .15s ease}
    .card:hover{transform:translateY(-2px); box-shadow:0 18px 45px rgba(20,40,120,.35); border-color:#2b3e7a}
    .ticks{display:grid;gap:10px;margin-top:12px}
    .li{display:flex;gap:10px}
    .tick{width:20px;height:20px;border-radius:999px;display:inline-grid;place-items:center;background:linear-gradient(135deg,#34d399,#86efac);color:#062312;font-weight:900;font-size:.8rem}
    .pill{display:inline-block;padding:6px 10px;border:1px solid #2a3766;border-radius:999px;background:#0c1636;color:#a7b9ff;font-size:.85rem}

    /* STICKY BOTTOM MARQUEE */
    .marquee-fixed{position:fixed;left:0;right:0;bottom:0;height:var(--marqueeH);display:flex;align-items:center;border-top:1px solid var(--line);background:linear-gradient(180deg,rgba(255,255,255,.04),rgba(255,255,255,0));backdrop-filter:saturate(120%) blur(6px);z-index:9999;padding-bottom:env(safe-area-inset-bottom,0px)}
    .marquee{white-space:nowrap;overflow:hidden;width:100%}
    .marquee > div{display:inline-block;padding-left:100%;animation:scroll 24s linear infinite;color:#b9c6ff;opacity:.95}
    @keyframes scroll{0%{transform:translateX(0)}100%{transform:translateX(-100%)}}

    /* SECTIONS / GRID */
    .section{padding:40px 28px}
    .grid{display:grid;gap:18px}
    .cols2{grid-template-columns:repeat(2,minmax(0,1fr))}
    .cols3{grid-template-columns:repeat(3,minmax(0,1fr))}
    .muted{color:var(--muted)}
    .small{font-size:.9rem;color:var(--muted)}
    .hint{font-size:.85rem;color:#9fb2ff;margin-top:6px}

    /* PRICING */
    .pricing .plan{background:linear-gradient(180deg,var(--panel),var(--panel2));border:1px solid var(--line);border-radius:14px;padding:20px;display:flex;flex-direction:column;gap:10px; position:relative}
    .pricing h3{margin:0}
    .price{font-size:1.4rem;font-weight:700}
    .popular{border-color:#2b5cff;box-shadow:0 12px 36px rgba(43,92,255,.25)}
    .popular::before{content:"Auditor-focused beta";position:absolute;top:-12px;left:16px;background:#1a2a6b;color:#cfe0ff;padding:4px 10px;border-radius:999px;border:1px solid #27419e;font-size:.78rem}

    /* FORM */
    form{display:grid;gap:14px}
    label{font-weight:600}
    input, select, textarea{width:100%; padding:12px 12px; border-radius:10px; border:1px solid #2a3766; background:#0e1634; color:var(--text)}
    textarea{min-height:110px;resize:vertical}
    .form-row{display:grid;gap:12px}
    .two{grid-template-columns:1fr 1fr}
    .three{grid-template-columns:1fr 1fr 1fr}
    .status{margin-top:8px;padding:10px;border-radius:10px;background:#0d193c;border:1px solid #27356b}
    .status.ok{border-color:#195d3a;background:#0f2a22}
    .status.err{border-color:#7a1a2a;background:#2b0e16}
    .filebox{border:1px dashed #3a4a86;border-radius:12px;padding:14px}
    .filemeta{font-size:.9rem;color:#a9b8ef}

    details.advanced{margin-top:8px}
    details.advanced summary{cursor:pointer;font-weight:600;color:#9fb2ff}

    @media (max-width:980px){
      .heroGrid{grid-template-columns:1fr}
      .cols3,.cols2{grid-template-columns:1fr}
    }
    .focusable:focus-visible,.btn:focus-visible,a:focus-visible,summary:focus-visible{outline:3px solid var(--ring);outline-offset:2px;border-radius:10px}
  </style>

  <!-- JSON-LD -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"Organization",
    "name":"ProofRepo",
    "url":"https://proofrepo.com",
    "email":"ops@proofrepo.com",
    "description":"Compliance ProofPacks in seconds. Guided evidence collection for boutique auditors and their clients.",
    "address":{
      "@type":"PostalAddress",
      "addressLocality":"Jacksonville",
      "addressRegion":"FL",
      "addressCountry":"US"
    }
  }
  </script>
</head>
<body>
  <!-- NAV -->
  <header class="wrap row nav" role="banner">
    <div class="logo">
      <div class="glyph" aria-hidden="true"></div>
      <span>ProofRepo</span>
    </div>
    <nav class="row" aria-label="primary">
      <a class="btn" href="#pricing">For auditors</a>
      <a class="btn" href="#how">How it works</a>
      <a class="btn" href="#request">Upload evidence</a>
    </nav>
  </header>

  <!-- HERO -->
  <section class="wrap hero">
    <div class="heroGrid">
      <div>
        <div class="kicker">Compliance ProofPacks in seconds</div>
        <h1>Guided SOC&nbsp;2 evidence collection — without Google Drive chaos</h1>
        <p class="sub">
          <strong>Auditors</strong> use ProofRepo to collect evidence from clients without messy folders,
          broken links, or endless “can you resend this?” emails. Clients see exactly what to upload,
          and you get a structured <strong>ProofPack</strong> that drops straight into workpapers.
          <br><br>
          <strong>Companies</strong> use ProofRepo to be audit-ready with the right inputs — without
          buying a full GRC platform like Drata or Vanta.
        </p>
        <div style="display:flex;gap:12px;flex-wrap:wrap;margin-top:16px">
          <a class="btn primary" href="#request" data-analytics="cta_upload">Upload evidence</a>
          <a class="btn" href="mailto:ops@proofrepo.com?subject=Auditor%20beta" data-analytics="cta_auditor_beta">
            Auditor? Join the beta
          </a>
        </div>
        <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:14px">
          <span class="pill">Built for boutique audit firms</span>
          <span class="pill">SOC 2 focus (other frameworks tagged)</span>
          <span class="pill">Cleaner than ad-hoc Google Drives</span>
          <span class="pill">No “all-in-one” platform required</span>
        </div>
      </div>

      <aside class="card" aria-label="Highlights">
        <div class="ticks">
          <div class="li">
            <span class="tick">✓</span>
            <div><strong>Guided for clients:</strong> fewer wrong files, fewer “oops, wrong export” corrections.</div>
          </div>
          <div class="li">
            <span class="tick">✓</span>
            <div><strong>Auditor-first view:</strong> ProofPack groups files by what they prove (e.g., access review, change log, vendors).</div>
          </div>
          <div class="li">
            <span class="tick">✓</span>
            <div><strong>Not another Drata/Vanta:</strong> no agent, no dashboards, just evidence in → ProofPack out.</div>
          </div>
        </div>
        <p class="muted" style="margin-top:12px">
          Today’s beta focuses on <strong>SOC 2</strong> evidence. Other frameworks (ISO 27001, HIPAA, NIST CSF)
          can be tagged now so they’re organized for later automation.
        </p>
      </aside>
    </div>
  </section>

  <!-- STICKY BOTTOM MARQUEE -->
  <div class="marquee-fixed" role="region" aria-label="Key highlights">
    <div class="marquee"><div>
      &nbsp;Guided SOC 2 evidence collection • Better than ad-hoc Google Drives • Not another Drata or Vanta • Built for boutique auditors and their clients • Beta pricing and Stripe billing coming soon • Ask for complimentary auditor codes at ops@proofrepo.com •
      Guided SOC 2 evidence collection • Better than ad-hoc Google Drives • Not another Drata or Vanta • Built for boutique auditors and their clients • Beta pricing and Stripe billing coming soon • Ask for complimentary auditor codes at ops@proofrepo.com •
    </div></div>
  </div>

  <!-- PRICING / POSITIONING -->
  <section id="pricing" class="wrap section pricing" aria-labelledby="pricing-h">
    <h2 id="pricing-h">Built for auditors first, friendly for companies</h2>

    <div class="card" style="margin-bottom:18px;border-style:dashed">
      <strong>Beta stage:</strong>
      <span class="muted">
        We’re working closely with boutique firms and early-stage companies.
        Stripe billing and final pricing are not live yet; we’re proving out the workflow.
      </span>
      <a class="btn primary" style="margin-left:10px" href="mailto:ops@proofrepo.com?subject=Auditor%20beta">
        Request complimentary client codes
      </a>
    </div>

    <div class="grid cols3" role="list">
      <article class="plan popular" role="listitem" aria-label="Auditor-led flows">
        <h3>Auditor-led flows</h3>
        <p class="muted">
          You give clients a link and a short code. They see guided prompts for the right SOC 2 evidence.
          You receive a ProofPack and JSON manifest that records what was provided and what’s missing.
        </p>
        <ul class="muted">
          <li>Client upload, auditor receives the ProofPack</li>
          <li>Automatic hints for Access Review / ChangeLog / Vendors</li>
          <li>Ideal for small SOC 2 and vendor review engagements</li>
        </ul>
        <div class="price">Pricing: based on packs / codes (planned)</div>
      </article>

      <article class="plan" role="listitem" aria-label="Direct company uploads">
        <h3>Companies (direct)</h3>
        <p class="muted">
          No auditor yet? Upload your evidence and get a ProofPack you can reuse with future auditors,
          investors, or customers — without committing to a heavy compliance platform.
        </p>
        <ul class="muted">
          <li>Great for “pre-SOC 2” or diligence prep</li>
          <li>One-off packs now; refresh options later</li>
          <li>Works alongside tools you already use</li>
        </ul>
        <div class="price">Pricing: per pack (planned)</div>
      </article>

      <article class="plan" role="listitem" aria-label="Future Stripe plans">
        <h3>Stripe plans (later)</h3>
        <p class="muted">
          As we harden the flows, we’ll expose Stripe-backed tiers for firms (blocks of client codes
          and packs) and for one-off company use.
        </p>
        <ul class="muted">
          <li>Bundles of client codes for auditors</li>
          <li>Upload-based pricing for companies</li>
          <li>Optional refresh / follow-up flows</li>
        </ul>
        <div class="price small">Not live yet — we’re collecting feedback first.</div>
      </article>
    </div>
  </section>

  <!-- HOW IT WORKS -->
  <section id="how" class="wrap section">
    <h2>How ProofRepo works (today)</h2>
    <div class="grid cols3">
      <div class="card">
        <h3>1) Share or open the link</h3>
        <p class="muted">
          An auditor or company goes to <strong>proofrepo.com</strong>.
          Auditors can share the link plus a short code so uploads are routed and tracked to the right engagement.
        </p>
      </div>
      <div class="card">
        <h3>2) Guided upload</h3>
        <p class="muted">
          The form nudges clients toward the expected SOC 2 artifacts: access reviews, change logs,
          vendor exports, and related proofs. No shared drives, no random screenshots in Slack.
        </p>
      </div>
      <div class="card">
        <h3>3) ProofPack for reviewers</h3>
        <p class="muted">
          ProofRepo generates a structured manifest and a human-friendly viewer that groups files by what they
          prove and flags missing items. You can keep using your own workpapers — just link to the pack.
        </p>
      </div>
    </div>
  </section>

  <!-- FAIR USE & CAPS -->
  <section id="caps" class="wrap section">
    <h2>Behind the scenes: technical limits (beta)</h2>
    <div class="card">
      <p class="muted">
        Internally, we apply small limits to keep the beta stable (roughly “a handful of files” per submission).
        That’s usually enough for SOC 2 evidence like access review exports, change logs, and vendor lists.
      </p>
      <p class="small">
        Files are stored in R2 and automatically deleted after a short retention window. Final caps and pricing
        will be based on the <strong>number of uploads / packs</strong>, not on trying to meter every individual file.
      </p>
    </div>
  </section>

  <!-- REQUEST / INTAKE -->
  <section id="request" class="wrap section">
    <h2>Upload evidence and get a ProofPack</h2>
    <p class="muted">
      Use this form to send SOC 2 (and related) evidence. You’ll receive a confirmation email with a
      secure ProofPack link. During beta we’re focused on correctness and reviewer experience —
      payments (Stripe, etc.) will plug in later.
    </p>

    <form id="intakeForm" class="card" novalidate>
      <!-- Row 1: email + company -->
      <div class="form-row two">
        <div>
          <label for="email">Work email</label>
          <input id="email" name="email" type="email" required placeholder="you@company.com"/>
        </div>
        <div>
          <label for="company">Company</label>
          <input id="company" name="company" required placeholder="Company Inc."/>
        </div>
      </div>

      <!-- Row 2: role + plan -->
      <div class="form-row two">
        <div>
          <label for="role">Who are you?</label>
          <select id="role" name="role">
            <option value="auditor_collecting" selected>I’m an auditor collecting evidence from a client</option>
            <option value="client_for_auditor">My auditor sent me here to upload evidence</option>
            <option value="company_direct">I’m a company proactively building/updating my ProofPack</option>
          </select>
          <div class="hint">We use this for routing and wording — not for billing (yet).</div>
        </div>
        <div>
          <label for="plan">Plan label (beta)</label>
          <select id="plan" name="plan">
            <option value="Trial" selected>Trial</option>
            <option value="Starter">Starter (planned)</option>
            <option value="Pro">Pro (planned)</option>
          </select>
          <div class="hint">Backend uses this as a label plus simple caps. Real pricing will be upload-based.</div>
        </div>
      </div>

      <!-- Row 3: frameworks + WHY (cadence field) -->
      <div class="form-row two">
        <div>
          <label for="frameworks">Framework(s)</label>
          <select id="frameworks" name="frameworks" multiple required>
            <option value="SOC2">SOC 2</option>
            <option value="ISO27001">ISO 27001 (tag only, beta)</option>
            <option value="HIPAA">HIPAA (tag only, beta)</option>
            <option value="NIST CSF">NIST CSF (tag only, beta)</option>
            <option value="Other">Other</option>
          </select>
          <div class="hint">SOC 2 is fully wired today. Others are recorded as tags for future automation.</div>
        </div>
        <div>
          <label for="cadence">Why do you need this pack?</label>
          <select id="cadence" name="cadence">
            <option value="">Just want a clean SOC 2 pack</option>
            <option>Upcoming SOC 2 audit</option>
            <option>Vendor security questionnaire</option>
            <option>Investor or board diligence</option>
            <option>Internal readiness / gap check</option>
            <option>Other (explain in notes)</option>
          </select>
          <div class="hint">We store this in the manifest so you and your auditor remember the context.</div>
        </div>
      </div>

      <!-- Row 4: auditor routing + client email -->
      <div class="form-row three">
        <div>
          <label for="auditorCode">Auditor code (optional)</label>
          <input id="auditorCode" name="auditorCode" placeholder="Short code from your auditor (e.g. TEST123)"/>
          <div class="hint">In the future, auditors will get blocks of codes. For now, we can issue these manually in beta.</div>
        </div>
        <div>
          <label for="auditorEmail">Auditor email (optional)</label>
          <input id="auditorEmail" name="auditorEmail" type="email" placeholder="auditor@examplefirm.com"/>
          <div class="hint">We can send the ProofPack link here as well as to your own email.</div>
        </div>
        <div>
          <label for="clientEmail">Client email (optional)</label>
          <input id="clientEmail" name="clientEmail" type="email" placeholder="client@company.com"/>
          <div class="hint">
            If you’re an auditor, add your client contact here so we can also associate the pack with them (and later, email them directly).
          </div>
        </div>
      </div>

      <!-- Notes -->
      <div class="form-row">
        <div>
          <label for="notes">Anything we should know?</label>
          <textarea id="notes" name="notes" placeholder="Deadlines, specific controls, output preferences…"></textarea>
        </div>
      </div>

      <!-- Advanced manual map -->
      <details class="advanced">
        <summary>Advanced: Manual map JSON (optional)</summary>
        <div style="margin-top:8px">
          <label for="map">Manual Map JSON</label>
          <textarea id="map" name="map" class="muted" placeholder='{"AccessReview":"access.csv","ChangeLog":"change.txt","Vendors":"vendors.json"}'></textarea>
          <div class="hint">Most people can ignore this. It overrides the auto-mapping engine for specific files.</div>
        </div>
      </details>

      <!-- Files -->
      <div class="filebox">
        <label for="files">
          <strong>Upload artifacts</strong>
          <span class="muted">(Right now we’re tuned for a small set of evidence files — zip archives are fine.)</span>
        </label>
        <input id="files" name="files" type="file" multiple />
        <div id="fileMeta" class="filemeta">No files selected.</div>
      </div>

      <div id="status" class="status" style="display:none"></div>

      <div class="wiz-actions" style="display:flex;gap:10px;justify-content:flex-end">
        <button id="submitBtn" class="btn primary" type="submit">Send and build ProofPack</button>
      </div>
    </form>
  </section>

  <!-- FOOTER -->
  <footer class="wrap">
    <div class="row" style="margin-bottom:8px">
      <div>
        © <span id="y"></span> ProofRepo •
        <a class="btn link" href="mailto:ops@proofrepo.com" data-analytics="cta_mail_footer">ops@proofrepo.com</a>
      </div>
      <div class="tag">Based in Jacksonville, Florida</div>
    </div>
    <div class="small">
      Disclaimer: ProofRepo prepares materials to assist with audits and vendor reviews; it is not a certification or attestation body.
    </div>
  </footer>

  <script>
    // IMPORTANT: stays pointed at your existing Intake Worker.
    const INTAKE_URL = 'https://proofrepo-intake.atucker5.workers.dev/';

    const $ = s => document.querySelector(s);
    const statusEl = $('#status');
    const submitBtn = $('#submitBtn');
    const fileInput = $('#files');
    const fileMeta = $('#fileMeta');

    document.getElementById('y').textContent = new Date().getFullYear();

    // File meta / caps display
    fileInput.addEventListener('change', () => {
      const files = Array.from(fileInput.files || []);
      if (!files.length) { fileMeta.textContent = 'No files selected.'; return; }
      const total = files.reduce((n,f)=> n + (f.size || 0), 0);
      const totalMB = (total/1024/1024).toFixed(2);
      fileMeta.textContent = `${files.length} file(s), ${totalMB} MB total`;
    });

    function showStatus(msg, ok=false){
      statusEl.style.display='block';
      statusEl.className = 'status ' + (ok ? 'ok':'err');
      statusEl.innerHTML = msg;
    }
    function clearStatus(){ statusEl.style.display='none'; statusEl.textContent=''; }

    function validate(){
      const email = $('#email').value.trim();
      const company = $('#company').value.trim();
      if (!email) return 'Please enter a valid work email.';
      if (!company) return 'Please enter your company name.';

      const frameworksSel = document.getElementById('frameworks');
      const fws = Array.from(frameworksSel.selectedOptions || []).map(o=>o.value);
      if (fws.length === 0) return 'Please select at least one framework (SOC 2 is fully supported).';

      const files = Array.from(fileInput.files || []);
      const plan = document.getElementById('plan').value || 'Trial';

      // Simple, conservative beta caps so we don't blow anything up.
      const total = files.reduce((n,f)=> n + (f.size || 0), 0);

      if (files.length === 0) {
        return 'Please upload at least one file so we can build a ProofPack.';
      }

      if (plan === 'Trial') {
        if (files.length > 10) return 'Trial is tuned for roughly 10 files. If needed, zip extras together.';
        if (total > 5 * 1024 * 1024) return 'Right now the trial is tuned for small uploads (~5 MB). Please zip or trim your upload.';
      } else {
        if (files.length > 50) return 'For large batches, split into multiple submissions.';
      }

      return null;
    }

    function gather(){
      const fd = new FormData();
      fd.append('email', document.getElementById('email').value.trim());
      fd.append('company', document.getElementById('company').value.trim());
      fd.append('plan', document.getElementById('plan').value || 'Trial');
      fd.append('cadence', document.getElementById('cadence').value || '');
      fd.append('role', document.getElementById('role').value || 'client');

      const frameworksSel = document.getElementById('frameworks');
      Array.from(frameworksSel.selectedOptions || []).forEach(o => fd.append('frameworks', o.value));

      fd.append('notes', document.getElementById('notes').value.trim());
      const auditorCode = document.getElementById('auditorCode').value.trim();
      const auditorEmail = document.getElementById('auditorEmail').value.trim();
      const clientEmail = document.getElementById('clientEmail').value.trim();

      if (auditorCode) fd.append('auditorCode', auditorCode);
      if (auditorEmail) fd.append('auditorEmail', auditorEmail);
      if (clientEmail) fd.append('clientEmail', clientEmail);

      const mapVal = document.getElementById('map').value.trim();
      if (mapVal) fd.append('map', mapVal);

      Array.from(fileInput.files || []).forEach(f => fd.append('files', f, f.name));
      return fd;
    }

    document.getElementById('intakeForm').addEventListener('submit', async (e)=>{
      e.preventDefault();
      clearStatus();
      const err = validate();
      if (err) { showStatus(err, false); return; }

      submitBtn.disabled = true;
      submitBtn.textContent = 'Uploading…';

      try{
        const res = await fetch(INTAKE_URL, { method:'POST', body: gather() });
        const text = await res.text();
        let json = null;
        try { json = JSON.parse(text); } catch (_) {}

        if (!res.ok || !json || json.ok === false) {
          const msg = (json && json.error) ? json.error : `Upload failed (${res.status})`;
          showStatus(msg, false);
        } else {
          const keys = (json.keys || []).map(k => `<code>${k}</code>`).join('<br>');
          const viewer = json.viewerUrl || json.packUrl;
          const linkHtml = viewer
            ? `<br><br><a href="${viewer}" target="_blank" rel="noopener">Open ProofPack viewer</a>`
            : '';
          showStatus(
            `✅ Received! ${json.usage?.files || json.keys?.length || 0} file(s) saved.<br>
             A ProofPack email will arrive shortly.${linkHtml}<br><br>${keys || ''}`,
            true
          );
        }
      } catch(err){
        showStatus(`Network error: ${err.message}`, false);
      } finally {
        submitBtn.disabled = false;
        submitBtn.textContent = 'Send and build ProofPack';
      }
    });
  </script>
</body>
</html>
