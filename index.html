<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ProofRepo — Compliance Proof, Turned Into a Habit</title>

  <!-- SEO -->
  <meta name="description" content="ProofRepo assembles a clean, auditor-ready ‘Proof Pack’ and turns compliance into a habit—delivered at the same time every week or quarter. Optional Advanced Exports: XLSX, custom CSV, full ZIP." />
  <meta name="keywords" content="SOC 2 evidence, ISO 27001 evidence, vendor security review, compliance proof, audit readiness, security RFP" />

  <!-- Open Graph -->
  <meta property="og:title" content="ProofRepo — Compliance Proof, Turned Into a Habit">
  <meta property="og:description" content="Immediate deliverables and weekly refreshes that arrive at a consistent time—predictable, reviewer-ready.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://proofrepo.com/">

  <style>
    :root{
      --bg:#0b1020; --gradA:#0b1020; --gradB:#0d1b3d;
      --panel:#10183a; --panel2:#0e1532; --text:#e8edff; --muted:#a7b6e7; --line:#1d2857;
      --primary:#2563eb; --primary2:#3b82f6; --accent:#22c55e; --ring:rgba(37,99,235,.35);
      --ok:#22c55e; --warn:#f59e0b; --err:#ef4444;
      --r:16px; --rs:12px; --shadow:0 14px 40px rgba(3,7,18,.35); --max:1200px;
      --marqueeH: 54px;
    }
    *{box-sizing:border-box}
    html,body{
      margin:0;
      background:linear-gradient(180deg,var(--gradA),var(--gradB));
      color:var(--text);
      font:16px/1.55 ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial
    }
    body{padding-bottom:calc(var(--marqueeH) + env(safe-area-inset-bottom, 0px))}
    a{color:inherit;text-decoration:none}
    img{max-width:100%;height:auto}
    .wrap{max-width:var(--max);margin:0 auto;padding:28px}
    .row{display:flex;align-items:center;justify-content:space-between;gap:16px}
    .muted{color:var(--muted)}
    .small{font-size:.9rem;color:var(--muted)}

    /* NAV */
    .logo{display:flex;align-items:center;gap:10px;font-weight:800}
    .glyph{width:34px;height:34px;border-radius:10px;background:conic-gradient(from 210deg,var(--primary),var(--primary2));box-shadow:var(--shadow)}
    .btn{display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:12px 18px;border-radius:999px;border:1px solid #2a3766;cursor:pointer;transition:transform .12s ease, background .12s ease, filter .12s ease}
    .btn:hover{background:#111b3e; transform:translateY(-1px)}
    .btn.primary{background:linear-gradient(135deg,var(--primary),var(--primary2));border-color:transparent;color:#fff;box-shadow:var(--shadow)}
    .btn.primary:hover{filter:brightness(1.07)}
    .btn.link{padding:0;border:0;color:#9db0ff}
    .tag{display:inline-flex;gap:8px;align-items:center;padding:6px 10px;border-radius:999px;background:#0c1636;border:1px solid var(--line);color:#a7b9ff;font-size:.85rem}

    /* HERO */
    .hero{padding:56px 28px}
    .heroGrid{display:grid;grid-template-columns:1.1fr .9fr;gap:28px;align-items:center}
    .kicker{color:var(--accent);font-weight:800;letter-spacing:.12em;text-transform:uppercase;font-size:.8rem}
    h1{font-size:clamp(28px,4vw,46px);line-height:1.15;margin:10px 0 12px}
    .sub{color:var(--muted);font-size:1.05rem;max-width:60ch}
    .card{background:linear-gradient(180deg,var(--panel),var(--panel2));border:1px solid var(--line);border-radius:var(--r);padding:22px;transition:transform .15s ease, box-shadow .15s ease, border-color .15s ease}
    .card:hover{transform:translateY(-2px); box-shadow:0 18px 45px rgba(20,40,120,.35); border-color:#2b3e7a}
    .ticks{display:grid;gap:10px;margin-top:12px}
    .li{display:flex;gap:10px}
    .tick{width:20px;height:20px;border-radius:999px;display:inline-grid;place-items:center;background:linear-gradient(135deg,#34d399,#86efac);color:#062312;font-weight:900;font-size:.8rem}

    /* SECTIONS / GRID */
    .section{padding:40px 28px}
    .grid{display:grid;gap:18px}
    .cols3{grid-template-columns:repeat(3,minmax(0,1fr))}
    @media (max-width:980px){.heroGrid{grid-template-columns:1fr}.cols3{grid-template-columns:1fr}}

    /* WIZARD */
    .wizard{max-width:880px;margin:0 auto}
    .steps{display:flex;gap:8px;margin-bottom:14px}
    .step{height:6px;background:#21306a;border-radius:999px;flex:1;opacity:.6}
    .step.active{background:linear-gradient(90deg,var(--primary),var(--primary2));opacity:1}
    .wiz-card{background:linear-gradient(180deg,var(--panel),var(--panel2));border:1px solid var(--line);border-radius:14px;padding:18px}
    .wiz-actions{display:flex;justify-content:space-between;gap:10px;margin-top:14px}
    .hide{display:none}

    /* DROPZONE */
    .drop{border:1px dashed #2a3766;border-radius:12px;padding:16px;background:#0f1735}
    .drop.active{border-color:#5b7cff; background:#0f183f}
    .drop .row{justify-content:flex-start}
    .pill{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;background:#0c1636;border:1px solid var(--line);color:#a7b9ff;font-size:.85rem}
    .files{margin-top:10px}
    .file{display:flex;justify-content:space-between;gap:8px;background:#0e1634;border:1px solid #1f2c5a;border-radius:10px;padding:10px 12px;margin-top:8px}
    .file small{color:#9fb2ff}
    .prog{height:6px;background:#19265a;border-radius:999px;overflow:hidden;margin-top:8px}
    .prog > div{height:100%;width:0%;background:linear-gradient(90deg,var(--primary),var(--primary2))}
    .note{margin-top:10px}

    /* SUCCESS */
    .success{display:none;gap:12px;align-items:center;margin-top:10px}
    .success.show{display:flex}
    .dot{width:16px;height:16px;border-radius:50%;background:var(--ok);box-shadow:0 0 0 6px rgba(34,197,94,.18)}
    .warn{color:var(--warn)}
    .err{color:var(--err)}
  </style>

  <script type="application/ld+json">
    {"@context":"https://schema.org","@type":"Organization","name":"ProofRepo","url":"https://proofrepo.com","email":"ops@proofrepo.com","description":"Done-for-you compliance evidence packs with weekly or quarterly cadence—predictable and reviewer-ready.","address":{"@type":"PostalAddress","addressLocality":"Jacksonville","addressRegion":"FL","addressCountry":"US"}}
  </script>
</head>
<body>
  <!-- NAV -->
  <header class="wrap row nav" role="banner">
    <div class="logo"><div class="glyph" aria-hidden="true"></div><span>ProofRepo</span></div>
    <nav class="row" aria-label="primary">
      <a class="btn" href="#pricing">Pricing</a>
      <a class="btn" href="#how">How it works</a>
      <a class="btn" href="#request">Get a Proof Pack</a>
    </nav>
  </header>

  <!-- HERO -->
  <section class="wrap hero">
    <div class="heroGrid">
      <div>
        <div class="kicker">Done-for-you evidence</div>
        <h1>Compliance proof in <span style="color:var(--accent)">minutes</span> — then at the <em>same time</em> every week</h1>
        <p class="sub">
          Skip screenshot chaos. We assemble a clean, reviewer-ready <strong>Proof Pack</strong> for SOC&nbsp;2, ISO&nbsp;27001, HIPAA, and security questionnaires—so you can move deals faster.
          <br><br><strong>We turn compliance into a habit:</strong> deliveries land at the top of your inbox at your chosen time (e.g., Monday 9am ET)—consistent and easy to forward.
          <br><br><strong>Lean alternative to bundled suites:</strong> buy the deliverable you need without a $10k–$20k/yr platform.
        </p>
        <div style="display:flex;gap:12px;flex-wrap:wrap;margin-top:16px">
          <a class="btn primary" href="#pricing">See plans</a>
          <a class="btn" href="#request">Start free trial</a>
        </div>
        <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:14px">
          <span class="pill">Immediate trial delivery</span>
          <span class="pill">Weekly or quarterly cadence</span>
          <span class="pill">Outputs: PDF + CSV (base)</span>
          <span class="pill">Advanced Exports (XLSX / ZIP)</span>
        </div>
      </div>

      <aside class="card" aria-label="Highlights">
        <div class="ticks">
          <div class="li"><span class="tick">✓</span><div>Centralized <strong>artifact index</strong> mapped to controls</div></div>
          <div class="li"><span class="tick">✓</span><div><strong>Review-first outputs:</strong> easy to forward, easy to verify</div></div>
          <div class="li"><span class="tick">✓</span><div><strong>Same-time cadence:</strong> hits inbox predictably</div></div>
        </div>
        <p class="muted" style="margin-top:12px">Sample pack coming soon. For now, email <a class="btn link" href="mailto:ops@proofrepo.com?subject=Sample%20Proof%20Pack">ops@proofrepo.com</a>.</p>
      </aside>
    </div>
  </section>

  <!-- STICKY BOTTOM MARQUEE -->
  <div class="marquee-fixed" role="region" aria-label="Key highlights" id="marqueeBar">
    <div class="marquee" id="marqueeTrack">
      <span>Auditor-ready outputs: PDF + CSV (base)</span>
      <span>Advanced Exports: XLSX, custom CSV, full ZIP</span>
      <span>Same-time cadence • Weekly or quarterly</span>
      <span>Jacksonville, Florida • Feedback welcome</span>
      <span>Auditor-ready outputs: PDF + CSV (base)</span>
      <span>Advanced Exports: XLSX, custom CSV, full ZIP</span>
      <span>Same-time cadence • Weekly or quarterly</span>
    </div>
  </div>

  <!-- PRICING -->
  <section id="pricing" class="wrap section pricing" aria-labelledby="pricing-h">
    <h2 id="pricing-h">Simple, transparent pricing</h2>

    <div class="card" style="margin-bottom:18px;border-style:dashed">
      <strong>$1 Trial (immediate):</strong>
      <span class="muted">Upload up to 10 artifacts / 50 MB to get a full sample Proof Pack, right now.</span>
      <a class="btn primary" style="margin-left:10px" href="#request">Start free trial</a>
      <a class="btn" style="margin-left:6px" href="#caps">Review limits</a>
    </div>

    <div class="grid cols3" role="list">
      <article class="plan" role="listitem" aria-label="Monthly Refresh">
        <h3>Monthly</h3>
        <div class="price">$119<span style="font-size:1rem;font-weight:600">/mo</span></div>
        <p class="muted">Includes weekly top-of-inbox refreshes at your chosen time.</p>
        <ul class="muted">
          <li>Evidence organization & control mapping</li>
          <li>Weekly email delivery on your cadence</li>
          <li>Manual upload included</li>
          <li>Outputs: <strong>PDF + CSV</strong></li>
          <li><em>Advanced Exports add-on available</em></li>
        </ul>
        <a class="btn primary" href="#request">Choose Monthly</a>
      </article>

      <article class="plan popular" role="listitem" aria-label="Quarterly Refresh (Most Popular)">
        <h3>Quarterly</h3>
        <div class="price">$299<span style="font-size:1rem;font-weight:600">/qtr</span></div>
        <p class="muted">Weekly refreshes + Advanced Exports included.</p>
        <ul class="muted">
          <li>All Monthly features</li>
          <li>Priority turnaround</li>
          <li><strong>Advanced Exports included</strong></li>
          <li>Outputs: PDF + CSV + <strong>Advanced</strong></li>
        </ul>
        <a class="btn primary" href="#request">Choose Quarterly</a>
      </article>

      <article class="plan" role="listitem" aria-label="Annual Refresh">
        <h3>Annual</h3>
        <div class="price">$999<span style="font-size:1rem;font-weight:600">/yr</span></div>
        <p class="muted">Best value. Weekly refreshes included.</p>
        <ul class="muted">
          <li>All Monthly features</li>
          <li>Annual audit prep extras</li>
          <li><strong>Advanced Exports included</strong></li>
          <li>Outputs: PDF + CSV + <strong>Advanced</strong></li>
        </ul>
        <a class="btn primary" href="#request">Choose Annual</a>
      </article>
    </div>

    <p class="small" style="margin-top:10px">
      See <a href="#caps">Fair Use & Caps</a> for artifact, repo, GB, and submission limits. Advanced Exports (XLSX workbook, custom CSV, full ZIP) included on Quarterly & Annual; add-on for others.
    </p>
  </section>

  <!-- HOW IT WORKS -->
  <section id="how" class="wrap section">
    <h2>How ProofRepo works</h2>
    <div class="grid cols3">
      <div class="card">
        <h3>1) Start a $1 trial</h3>
        <p class="muted">Upload up to 10 artifacts / 50 MB for an immediate sample Proof Pack. If your upload exceeds trial limits, we’ll recommend the right plan before delivery.</p>
      </div>
      <div class="card">
        <h3>2) Pick your cadence</h3>
        <p class="muted">Weekly or quarterly. ProofRepo lands at the top of your inbox at the same time, every cycle.</p>
      </div>
      <div class="card">
        <h3>3) Deliver & refresh</h3>
        <p class="muted">Receive the pack by email, forward to reviewers, and let our reminders keep evidence fresh. Advanced exports available when needed.</p>
      </div>
    </div>
  </section>

  <!-- FAIR USE & CAPS -->
  <section id="caps" class="wrap section">
    <h2>Fair Use & Caps</h2>
    <div class="card">
      <p class="muted">A “submission” is one intake event per refresh cycle (email or upload). Consolidate files into ZIPs when possible.</p>
      <ul class="muted">
        <li><strong>Trial ($1):</strong> 10 artifacts, 1 repo, ≤50 MB, 1 submission.</li>
        <li><strong>Monthly ($119):</strong> 75 artifacts, 3 repos, ≤300 MB, 1 submission (extra submissions $39).</li>
        <li><strong>Quarterly ($299):</strong> 250 artifacts, 8 repos, ≤1 GB, 2 submissions (extra $49).</li>
        <li><strong>Annual ($999):</strong> 600 artifacts, 20 repos, ≤3 GB, 3 submissions (extra $59).</li>
      </ul>
      <p class="small">Add-ons: +100 artifacts $59 • +5 repos $79 • +1 GB intake $39. Need more? Ask about Enterprise Pack.</p>
    </div>
  </section>

  <!-- REQUEST / WIZARD WITH MULTI-FILE UPLOAD -->
  <section id="request" class="wrap section">
    <h2>Start your trial (or choose a plan)</h2>
    <p class="muted">Upload, click submit, get the Proof Pack by email. If your upload exceeds trial caps, we’ll suggest the right plan before delivery.</p>

    <div class="wizard">
      <div class="steps" aria-hidden="true">
        <div class="step active" id="st1"></div>
        <div class="step" id="st2"></div>
        <div class="step" id="st3"></div>
      </div>

      <form id="reqForm" class="wiz-card" novalidate>
        <!-- STEP 1 -->
        <div class="wiz-step" data-step="1">
          <div class="form-row two" style="display:grid;grid-template-columns:1fr 1fr;gap:12px">
            <div>
              <label for="name">Your name</label>
              <input id="name" name="name" autocomplete="name" required />
            </div>
            <div>
              <label for="email">Work email</label>
              <input id="email" name="email" type="email" autocomplete="email" required />
            </div>
            <div>
              <label for="company">Company</label>
              <input id="company" name="company" autocomplete="organization" required />
            </div>
            <div>
              <label for="plan">Plan</label>
              <select id="plan" name="plan" required>
                <option value="Trial $1">Trial $1 (sample)</option>
                <option value="Monthly $119">Monthly $119</option>
                <option value="Quarterly $299">Quarterly $299</option>
                <option value="Annual $999">Annual $999</option>
              </select>
            </div>
          </div>
          <div class="wiz-actions">
            <span class="small">Step 1 of 3</span>
            <button class="btn primary" type="button" data-next>Next</button>
          </div>
        </div>

        <!-- STEP 2 -->
        <div class="wiz-step hide" data-step="2">
          <div class="form-row" style="display:grid;gap:12px">
            <div style="display:grid;grid-template-columns:1fr 1fr 1fr;gap:12px">
              <div>
                <label for="frameworks">Frameworks</label>
                <select id="frameworks" name="frameworks" multiple>
                  <option>SOC 2</option><option>ISO 27001</option><option>HIPAA</option><option>NIST CSF</option><option>Other</option>
                </select>
                <small class="small">Hold Ctrl/Cmd to multi-select</small>
              </div>
              <div>
                <label for="repos">Approx. repos</label>
                <select id="repos" name="repos">
                  <option>1</option><option>2-4</option><option>5-8</option><option>9+</option>
                </select>
              </div>
              <div>
                <label for="submission">Submission preference</label>
                <select id="submission" name="submission">
                  <option>Manual upload (default)</option>
                  <option>Local Collector (premium)</option>
                  <option>GitHub App (read-only, later)</option>
                </select>
              </div>
            </div>

            <!-- Dropzone -->
            <div class="drop" id="drop">
              <div class="row">
                <strong>Upload artifacts</strong>&nbsp;&nbsp;<span class="pill">Up to 10 files / 50 MB total (trial)</span>
              </div>
              <p class="small muted">Drag & drop or <label for="files" class="btn link">choose files</label>.</p>
              <input id="files" name="files" type="file" multiple style="display:none" />
              <div class="files" id="fileList"></div>
              <div class="prog" aria-hidden="true"><div id="bar"></div></div>
              <div id="uploadNote" class="note small muted"></div>
            </div>
          </div>

          <div class="wiz-actions">
            <button class="btn" type="button" data-back>Back</button>
            <button class="btn primary" type="button" data-next>Next</button>
          </div>
        </div>

        <!-- STEP 3 -->
        <div class="wiz-step hide" data-step="3">
          <div class="form-row two" style="display:grid;grid-template-columns:1fr 1fr;gap:12px">
            <div>
              <label for="cadence">Refresh cadence</label>
              <select id="cadence" name="cadence" required>
                <option>Weekly</option><option>Quarterly</option><option>Annual</option>
              </select>
              <small class="small">Weekly is included on all paid plans.</small>
            </div>
            <div>
              <label for="nextAudit">Next audit / review date</label>
              <input id="nextAudit" name="nextAudit" type="date" />
            </div>
            <div>
              <label for="timezone">Your timezone</label>
              <input id="timezone" name="timezone" placeholder="e.g., America/New_York" />
            </div>
            <div>
              <label for="reminder">Preferred delivery day/time</label>
              <input id="reminder" name="reminder" placeholder="e.g., Monday 9am" />
            </div>
            <div>
              <label for="recipientRole">Primary reviewer role</label>
              <select id="recipientRole" name="recipientRole" required>
                <option>External auditor</option>
                <option>Customer security reviewer (sales)</option>
                <option>Internal compliance</option>
                <option>Other</option>
              </select>
            </div>
            <div>
              <label for="outputFormat">Preferred output</label>
              <select id="outputFormat" name="outputFormat" required>
                <option>PDF + CSV (standard)</option>
                <option>PDF only</option>
                <option>CSV only</option>
                <option>XLSX workbook (Advanced Export)</option>
                <option>Full ZIP of originals (Advanced Export)</option>
                <option>All of the above (Advanced Export)</option>
              </select>
              <small class="small">Advanced Exports included on Quarterly & Annual; add-on otherwise.</small>
            </div>
            <div style="grid-column:1/-1">
              <label for="trialContinue">Trial preference</label>
              <select id="trialContinue" name="trialContinue" required>
                <option>Auto-continue monthly with weekly updates (cancel anytime)</option>
                <option>One-time trial only (decide after delivery)</option>
              </select>
            </div>
            <div style="grid-column:1/-1">
              <label for="notes">Anything else?</label>
              <textarea id="notes" name="notes" placeholder="Questionnaire needs, specific controls, output details, etc." style="min-height:110px"></textarea>
            </div>
          </div>

          <div class="wiz-actions">
            <button class="btn" type="button" data-back>Back</button>
            <button class="btn primary" type="submit">Submit</button>
          </div>

          <!-- Success / error -->
          <div id="success" class="success"><span class="dot"></span><strong>Uploaded!</strong><span class="muted">We’ll email your Proof Pack shortly.</span></div>
          <div id="fail" class="small err" style="display:none;margin-top:8px"></div>
        </div>
      </form>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="wrap">
    <div class="row" style="margin-bottom:8px">
      <div>© <span id="y"></span> ProofRepo • <a class="btn link" href="mailto:ops@proofrepo.com">ops@proofrepo.com</a></div>
      <div class="tag">Based in Jacksonville, Florida</div>
    </div>
    <div class="small">Disclaimer: ProofRepo prepares materials to assist with audits and vendor reviews; it is not a certification or attestation body.</div>
  </footer>

  <script>
    // Top on reload
    if ('scrollRestoration' in history) history.scrollRestoration = 'manual';
    window.addEventListener('load', () => { window.scrollTo(0,0); }, { once:true });

    // Year
    document.getElementById('y').textContent = new Date().getFullYear();

    // Wizard nav
    const steps = Array.from(document.querySelectorAll('.wiz-step'));
    const bars = [document.getElementById('st1'), document.getElementById('st2'), document.getElementById('st3')];
    let current = 0;
    function showStep(i){
      steps.forEach((s,idx)=> s.classList.toggle('hide', idx!==i));
      bars.forEach((b,idx)=> b.classList.toggle('active', idx<=i));
      current = i;
      document.getElementById('request').scrollIntoView({behavior:'smooth', block:'start'});
    }
    document.querySelectorAll('[data-next]').forEach(btn=>{
      btn.addEventListener('click', ()=>{ if(current < steps.length-1) showStep(current+1); });
    });
    document.querySelectorAll('[data-back]').forEach(btn=>{
      btn.addEventListener('click', ()=>{ if(current > 0) showStep(current-1); });
    });

    // Dropzone + size caps
    const filesInput = document.getElementById('files');
    const drop = document.getElementById('drop');
    const fileList = document.getElementById('fileList');
    const bar = document.getElementById('bar');
    const note = document.getElementById('uploadNote');
    const MAX_FILES = 10;
    const MAX_TOTAL = 50 * 1024 * 1024; // 50 MB

    function renderFiles(list){
      fileList.innerHTML = '';
      [...list].forEach(f=>{
        const el = document.createElement('div');
        el.className = 'file';
        const kb = Math.round(f.size/1024);
        el.innerHTML = `<div>${f.name}<br><small>${kb.toLocaleString()} KB</small></div><button type="button" class="btn small rm">Remove</button>`;
        el.querySelector('.rm').onclick = () => {
          const dt = new DataTransfer();
          [...filesInput.files].forEach(x=>{ if(x!==f) dt.items.add(x); });
          filesInput.files = dt.files;
          renderFiles(filesInput.files);
        };
        fileList.appendChild(el);
      });
    }
    function capMessage(){
      const count = filesInput.files.length;
      const total = [...filesInput.files].reduce((n,f)=> n+f.size, 0);
      const overFiles = count > MAX_FILES;
      const overBytes = total > MAX_TOTAL;
      const msgs = [];
      if(overFiles) msgs.push(`Max ${MAX_FILES} files.`);
      if(overBytes) msgs.push(`Max ${(MAX_TOTAL/1024/1024)|0} MB total.`);
      note.textContent = msgs.join(' ');
      note.style.color = (overFiles || overBytes) ? '#fca5a5' : '';
      return !(overFiles || overBytes);
    }

    ;['dragenter','dragover'].forEach(ev=>{
      drop.addEventListener(ev,e=>{ e.preventDefault(); drop.classList.add('active'); });
    });
    ;['dragleave','drop'].forEach(ev=>{
      drop.addEventListener(ev,e=>{ e.preventDefault(); drop.classList.remove('active'); });
    });
    drop.addEventListener('drop', e=>{
      const dt = e.dataTransfer;
      if(!dt?.files?.length) return;
      const merged = new DataTransfer();
      [...filesInput.files, ...dt.files].slice(0, 60).forEach(f=> merged.items.add(f));
      filesInput.files = merged.files;
      renderFiles(filesInput.files);
      capMessage();
    });
    filesInput.addEventListener('change', ()=>{
      renderFiles(filesInput.files);
      capMessage();
    });

    // Form submit -> POST to Worker
    const form = document.getElementById('reqForm');
    const okBox = document.getElementById('success');
    const failBox = document.getElementById('fail');
    const WORKER_URL = 'https://proofrepo-intake.atucker5.workers.dev';

    function serializeForm(form){
      const obj = {};
      new FormData(form).forEach((v,k)=>{
        if(obj[k]) { if(Array.isArray(obj[k])) obj[k].push(v); else obj[k] = [obj[k], v]; }
        else obj[k] = v;
      });
      const fwEl = document.getElementById('frameworks');
      if (fwEl) obj.frameworks = Array.from(fwEl.selectedOptions||[]).map(o=>o.value);
      return obj;
    }

    async function uploadToWorker(){
      const fd = new FormData();
      const data = serializeForm(form);
      Object.entries(data).forEach(([k,v])=>{
        if (Array.isArray(v)) v.forEach(x=> fd.append(k, x));
        else fd.append(k, v);
      });
      [...filesInput.files].forEach(f=> fd.append('files', f, f.name));

      // simple progress animation (until server responds)
      bar.style.width = '20%';
      const prog = setInterval(()=>{
        const now = parseInt(bar.style.width) || 0;
        if(now < 90) bar.style.width = (now+5)+'%';
      }, 250);

      try{
        const res = await fetch(WORKER_URL, { method:'POST', body: fd });
        clearInterval(prog);
        bar.style.width = '100%';
        if(!res.ok) throw new Error(`Upload failed (${res.status})`);
        const j = await res.json();
        return j;
      }catch(err){
        clearInterval(err);
        throw err;
      }
    }

    form.addEventListener('submit', async (e)=>{
      e.preventDefault();
      failBox.style.display = 'none';
      okBox.classList.remove('show');

      // client caps
      if(!capMessage()){
        failBox.textContent = 'Upload exceeds trial limits. Remove files or choose a paid plan.';
        failBox.style.display = 'block';
        return;
      }

      // must have email + at least 1 file on trial
      if(!document.getElementById('email').value){
        failBox.textContent = 'Please enter a valid work email.';
        failBox.style.display = 'block';
        return;
      }
      if(document.getElementById('plan').value.includes('Trial') && filesInput.files.length === 0){
        failBox.textContent = 'Please add at least one file for the trial.';
        failBox.style.display = 'block';
        return;
      }

      try{
        const resp = await uploadToWorker();
        okBox.classList.add('show');
        // Friendly nudge if they hit trial limits on server side:
        if(resp?.recommendPlan){
          note.innerHTML = `Heads up: your intake exceeded trial caps. <span class="warn">Recommended:</span> ${resp.recommendPlan}.`;
        }
      }catch(err){
        failBox.textContent = err.message || 'Upload error. Please try again or email ops@proofrepo.com.';
        failBox.style.display = 'block';
      }
    });

    // Init first step
    showStep(0);
  </script>
</body>
</html>
